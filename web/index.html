<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Steganography Tools</title>
<meta name="description" content="Hide & reveal secret messages in images, text, audio using advanced steganography algorithms with AES-256 encryption."/>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet"/>
<style>
/* â”€â”€ Reset & Base â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
*{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:       #0a0e17;
  --surface:  #111827;
  --card:     #1a2235;
  --border:   #1f2d44;
  --accent:   #3b82f6;
  --accent2:  #6366f1;
  --green:    #10b981;
  --red:      #ef4444;
  --yellow:   #f59e0b;
  --text:     #e2e8f0;
  --muted:    #64748b;
  --radius:   14px;
  --transition: 0.25s cubic-bezier(.4,0,.2,1);
}
html{scroll-behavior:smooth}
body{
  font-family:'Inter',sans-serif;
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
  overflow-x:hidden;
}

/* â”€â”€ Scrollbar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-track{background:var(--bg)}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:10px}

/* â”€â”€ Animated background â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.bg-orbs{position:fixed;inset:0;pointer-events:none;z-index:0;overflow:hidden}
.orb{position:absolute;border-radius:50%;filter:blur(100px);opacity:.15;animation:orb-drift 12s ease-in-out infinite alternate}
.orb1{width:600px;height:600px;background:radial-gradient(circle,#3b82f6,transparent);top:-200px;left:-200px;animation-delay:0s}
.orb2{width:500px;height:500px;background:radial-gradient(circle,#6366f1,transparent);bottom:-100px;right:-150px;animation-delay:-4s}
.orb3{width:400px;height:400px;background:radial-gradient(circle,#10b981,transparent);top:40%;left:40%;animation-delay:-8s}
@keyframes orb-drift{0%{transform:translate(0,0) scale(1)}100%{transform:translate(40px,30px) scale(1.08)}}

/* â”€â”€ Layout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.wrapper{position:relative;z-index:1;display:flex;flex-direction:column;min-height:100vh}

/* â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
header{
  display:flex;align-items:center;justify-content:space-between;
  padding:18px 40px;
  background:rgba(17,24,39,.8);
  backdrop-filter:blur(20px);
  border-bottom:1px solid var(--border);
  position:sticky;top:0;z-index:100;
}
.logo{display:flex;align-items:center;gap:10px}
.logo-icon{font-size:28px;filter:drop-shadow(0 0 12px #3b82f6)}
.logo-text{font-size:20px;font-weight:700;background:linear-gradient(135deg,#60a5fa,#818cf8);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.logo-sub{font-size:11px;color:var(--muted);letter-spacing:.05em;margin-top:1px}
.header-badge{
  background:linear-gradient(135deg,rgba(59,130,246,.18),rgba(99,102,241,.18));
  border:1px solid rgba(99,102,241,.35);
  border-radius:30px;padding:6px 16px;
  font-size:12px;color:#a5b4fc;font-weight:500;
}

/* â”€â”€ Hero â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.hero{
  text-align:center;padding:70px 40px 50px;
}
.hero h1{
  font-size:clamp(2rem,5vw,3.4rem);font-weight:700;
  background:linear-gradient(135deg,#e2e8f0 30%,#60a5fa 70%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  line-height:1.15;margin-bottom:18px;
}
.hero p{font-size:1.1rem;color:var(--muted);max-width:540px;margin:0 auto 30px;line-height:1.7}
.hero-chips{display:flex;flex-wrap:wrap;gap:10px;justify-content:center}
.chip{
  background:rgba(30,40,60,.9);
  border:1px solid var(--border);
  border-radius:30px;padding:6px 16px;font-size:13px;color:#94a3b8;
  transition:var(--transition);cursor:default;
}
.chip:hover{border-color:var(--accent);color:var(--text)}

/* â”€â”€ Nav Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.nav-tabs{
  display:flex;gap:4px;padding:0 40px 28px;
  overflow-x:auto;scrollbar-width:none;
}
.nav-tabs::-webkit-scrollbar{display:none}
.tab-btn{
  display:flex;align-items:center;gap:8px;
  padding:10px 20px;border-radius:10px;
  border:1px solid transparent;
  background:transparent;color:var(--muted);
  font:500 14px/1 'Inter',sans-serif;
  cursor:pointer;transition:var(--transition);white-space:nowrap;
}
.tab-btn:hover{background:rgba(59,130,246,.1);color:var(--text)}
.tab-btn.active{
  background:linear-gradient(135deg,rgba(59,130,246,.2),rgba(99,102,241,.2));
  border-color:rgba(99,102,241,.4);color:#a5b4fc;
}
.tab-icon{font-size:16px}

/* â”€â”€ Panels â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.panels{padding:0 40px 60px;flex:1}
.panel{display:none;animation:fade-in .3s ease}
.panel.active{display:block}
@keyframes fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}

/* â”€â”€ Cards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.card-row{display:grid;grid-template-columns:1fr 1fr;gap:24px}
@media(max-width:860px){.card-row{grid-template-columns:1fr}}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:28px;
  transition:var(--transition);
}
.card:hover{border-color:rgba(99,102,241,.4);box-shadow:0 0 30px rgba(59,130,246,.07)}
.card-title{
  display:flex;align-items:center;gap:10px;
  font-size:15px;font-weight:600;color:#e2e8f0;
  margin-bottom:22px;
}
.card-title-icon{
  width:32px;height:32px;border-radius:8px;
  display:flex;align-items:center;justify-content:center;font-size:15px;
  background:linear-gradient(135deg,rgba(59,130,246,.25),rgba(99,102,241,.25));
}

/* â”€â”€ Drop Zone â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.drop-zone{
  border:2px dashed var(--border);
  border-radius:10px;padding:30px 20px;
  text-align:center;cursor:pointer;
  transition:var(--transition);background:rgba(10,14,23,.5);
  position:relative;overflow:hidden;
}
.drop-zone:hover,.drop-zone.drag-over{
  border-color:var(--accent);
  background:rgba(59,130,246,.07);
}
.drop-zone input[type=file]{
  position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;height:100%;
}
.drop-icon{font-size:32px;margin-bottom:8px;opacity:.6}
.drop-label{font-size:13px;color:var(--muted);line-height:1.6}
.drop-label strong{color:var(--accent)}
.drop-filename{
  margin-top:10px;font-size:13px;color:var(--green);
  font-family:'JetBrains Mono',monospace;display:none;
}

/* â”€â”€ Form Elements â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.form-group{margin-bottom:16px}
.form-label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px;font-weight:500;letter-spacing:.04em}
textarea,input[type=text],input[type=password],input[type=number]{
  width:100%;background:rgba(10,14,23,.8);
  border:1px solid var(--border);border-radius:8px;
  padding:10px 14px;color:var(--text);
  font:14px/1.5 'Inter',sans-serif;
  transition:var(--transition);outline:none;resize:vertical;
}
textarea:focus,input:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(59,130,246,.15)}
textarea{min-height:90px;font-family:'JetBrains Mono',monospace;font-size:13px}

/* â”€â”€ Buttons â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.btn{
  display:inline-flex;align-items:center;gap:8px;
  padding:11px 22px;border-radius:9px;font:600 14px 'Inter',sans-serif;
  cursor:pointer;transition:var(--transition);border:none;
  position:relative;overflow:hidden;
}
.btn::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(transparent,rgba(255,255,255,.08));
  opacity:0;transition:var(--transition);
}
.btn:hover::after{opacity:1}
.btn:active{transform:scale(.97)}
.btn-primary{background:linear-gradient(135deg,#3b82f6,#6366f1);color:#fff}
.btn-primary:hover{box-shadow:0 0 24px rgba(99,102,241,.45)}
.btn-success{background:linear-gradient(135deg,#059669,#10b981);color:#fff}
.btn-success:hover{box-shadow:0 0 24px rgba(16,185,129,.35)}
.btn-ghost{background:rgba(30,40,60,.8);border:1px solid var(--border);color:var(--muted)}
.btn-ghost:hover{color:var(--text);border-color:var(--accent)}
.btn:disabled{opacity:.5;pointer-events:none}
.btn-full{width:100%;justify-content:center;margin-top:6px}

/* â”€â”€ Result Box â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.result{
  margin-top:18px;padding:16px;border-radius:10px;
  display:none;font-size:13px;line-height:1.7;
  animation:fade-in .3s ease;
}
.result.ok{
  background:rgba(16,185,129,.1);border:1px solid rgba(16,185,129,.3);color:#6ee7b7;
}
.result.err{
  background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.3);color:#fca5a5;
}
.result .msg-text{
  font-family:'JetBrains Mono',monospace;
  background:rgba(0,0,0,.3);border-radius:6px;
  padding:10px 12px;margin-top:10px;word-break:break-all;
  font-size:13px;color:#a7f3d0;
  max-height:160px;overflow-y:auto;
}
.result-title{font-weight:600;display:flex;align-items:center;gap:6px;margin-bottom:4px}

/* â”€â”€ Download Button â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.download-list{display:flex;flex-direction:column;gap:8px;margin-top:12px}
.download-item{
  display:flex;align-items:center;justify-content:space-between;
  background:rgba(0,0,0,.3);border-radius:8px;padding:10px 14px;
}
.download-name{font-family:'JetBrains Mono',monospace;font-size:12px;color:#94a3b8}
.download-btn{
  font-size:12px;padding:5px 12px;border-radius:6px;
  background:linear-gradient(135deg,#1d4ed8,#4338ca);color:#fff;
  border:none;cursor:pointer;transition:var(--transition);
}
.download-btn:hover{opacity:.85}

/* â”€â”€ Spinner â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.spinner{
  display:none;width:18px;height:18px;border-radius:50%;
  border:2px solid rgba(255,255,255,.2);border-top-color:#fff;
  animation:spin .6s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}
.btn.loading .spinner{display:inline-block}
.btn.loading .btn-label{display:none}

/* â”€â”€ Steganalysis Table â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.steg-table{width:100%;border-collapse:collapse;margin-top:8px;font-size:13px}
.steg-table th{
  background:rgba(10,14,23,.8);color:var(--muted);
  font-size:11px;letter-spacing:.08em;font-weight:600;
  padding:10px 14px;text-align:left;border-bottom:1px solid var(--border);
}
.steg-table td{padding:11px 14px;border-bottom:1px solid rgba(31,45,68,.5)}
.steg-table tr:last-child td{border-bottom:none}
.steg-table tr:hover td{background:rgba(59,130,246,.05)}
.pill{
  display:inline-block;padding:3px 10px;border-radius:20px;
  font-size:11px;font-weight:600;
}
.pill-ok{background:rgba(16,185,129,.15);color:#6ee7b7}
.pill-warn{background:rgba(245,158,11,.15);color:#fcd34d}
.pill-danger{background:rgba(239,68,68,.15);color:#fca5a5}

/* â”€â”€ Batch file list â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.multi-file-list{
  margin-top:10px;max-height:120px;overflow-y:auto;
  background:rgba(10,14,23,.6);border-radius:8px;padding:8px 12px;
  font:13px 'JetBrains Mono',monospace;color:#64748b;display:none;
}
.multi-file-list span{display:block;padding:2px 0;color:#94a3b8}

/* â”€â”€ Capacity Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.cap-bar-wrap{margin-top:8px;display:none}
.cap-bar-label{font-size:11px;color:var(--muted);margin-bottom:4px;display:flex;justify-content:space-between}
.cap-bar-bg{height:4px;border-radius:4px;background:var(--border)}
.cap-bar-fill{height:4px;border-radius:4px;background:linear-gradient(90deg,#10b981,#6366f1);transition:width .5s ease}

/* â”€â”€ Feature highlight chips â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.feature-strip{
  display:flex;flex-wrap:wrap;gap:10px;margin-bottom:28px;
}
.feature-chip{
  display:flex;align-items:center;gap:7px;
  background:rgba(26,34,53,.9);border:1px solid var(--border);
  border-radius:8px;padding:8px 14px;font-size:12px;color:#94a3b8;
}
.feature-chip .icon{font-size:15px}

/* â”€â”€ Image Comparison â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.img-compare{
  display:none;grid-template-columns:1fr 1fr;gap:16px;margin-top:18px;
}
.img-compare.show{display:grid}
.img-thumb{text-align:center}
.img-thumb img{
  max-width:100%;border-radius:8px;border:1px solid var(--border);
  max-height:200px;object-fit:contain;
}
.img-thumb-label{font-size:11px;color:var(--muted);margin-top:6px}

/* â”€â”€ Toast â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#toast{
  position:fixed;bottom:30px;right:30px;z-index:999;
  background:#1a2235;border:1px solid var(--border);
  border-radius:10px;padding:14px 20px;font-size:13px;
  box-shadow:0 20px 60px rgba(0,0,0,.5);
  opacity:0;transform:translateY(20px);pointer-events:none;
  transition:.3s ease;max-width:340px;
}
#toast.show{opacity:1;transform:none}
#toast.ok-toast{border-color:rgba(16,185,129,.4);color:#6ee7b7}
#toast.err-toast{border-color:rgba(239,68,68,.4);color:#fca5a5}

/* â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
footer{
  text-align:center;padding:20px;
  border-top:1px solid var(--border);
  font-size:12px;color:var(--muted);
}
</style>
</head>
<body>
<div class="bg-orbs">
  <div class="orb orb1"></div>
  <div class="orb orb2"></div>
  <div class="orb orb3"></div>
</div>

<div class="wrapper">

<!-- Header -->
<header>
  <div class="logo">
    <span class="logo-icon">ğŸ›¡</span>
    <div>
      <div class="logo-text">Steganography Tools</div>
      <div class="logo-sub">SECURE MESSAGE HIDING</div>
    </div>
  </div>
  <div class="header-badge">âœ¦ AES-256 Â· LSB Â· ZWC Â· RC4</div>
</header>

<!-- Hero -->
<div class="hero">
  <h1>Hide Secrets in<br>Plain Sight</h1>
  <p>Embed secret messages inside images, text files, and audio using advanced steganography algorithms â€” invisibly.</p>
  <div class="hero-chips">
    <span class="chip">ğŸ” AES-256 Encrypted</span>
    <span class="chip">ğŸ–¼ Image LSB</span>
    <span class="chip">ğŸ“„ Zero-Width Chars</span>
    <span class="chip">ğŸµ Audio WAV</span>
    <span class="chip">ğŸ” Steganalysis</span>
    <span class="chip">ğŸ“¦ Batch Mode</span>
  </div>
</div>

<!-- Nav Tabs -->
<div class="nav-tabs">
  <button class="tab-btn active" onclick="showTab('image')" id="tab-image">
    <span class="tab-icon">ğŸ–¼</span> Image
  </button>
  <button class="tab-btn" onclick="showTab('text')" id="tab-text">
    <span class="tab-icon">ğŸ“„</span> Text
  </button>
  <button class="tab-btn" onclick="showTab('audio')" id="tab-audio">
    <span class="tab-icon">ğŸµ</span> Audio
  </button>
  <button class="tab-btn" onclick="showTab('steg')" id="tab-steg">
    <span class="tab-icon">ğŸ”</span> Steganalysis
  </button>
  <button class="tab-btn" onclick="showTab('batch')" id="tab-batch">
    <span class="tab-icon">ğŸ“¦</span> Batch Encode
  </button>
  <button class="tab-btn" onclick="showTab('compare')" id="tab-compare">
    <span class="tab-icon">âš–</span> Compare
  </button>
</div>

<!-- Panels -->
<div class="panels">

  <!-- â•â• IMAGE PANEL â•â• -->
  <div class="panel active" id="panel-image">
    <div class="feature-strip">
      <div class="feature-chip"><span class="icon">ğŸ”</span> Optional AES-256 password</div>
      <div class="feature-chip"><span class="icon">ğŸ“Š</span> Capacity checker</div>
      <div class="feature-chip"><span class="icon">ğŸ’¾</span> Lossless PNG output</div>
    </div>
    <div class="card-row">

      <!-- Encode -->
      <div class="card">
        <div class="card-title">
          <div class="card-title-icon">ğŸ”’</div>
          Encode â€” Hide Message in Image
        </div>
        <div class="form-group">
          <label class="form-label">COVER IMAGE (JPG / PNG / BMP)</label>
          <div class="drop-zone" id="img-enc-drop">
            <input type="file" id="img-enc-file" accept="image/*" onchange="setDrop('img-enc-drop','img-enc-file'); checkCapacity()"/>
            <div class="drop-icon">ğŸ–¼</div>
            <div class="drop-label">Drag & drop or <strong>click to browse</strong></div>
            <div class="drop-filename" id="img-enc-fn"></div>
          </div>
          <div class="cap-bar-wrap" id="cap-bar-wrap">
            <div class="cap-bar-label"><span>Image capacity</span><span id="cap-label">â€”</span></div>
            <div class="cap-bar-bg"><div class="cap-bar-fill" id="cap-fill" style="width:0%"></div></div>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">SECRET MESSAGE</label>
          <textarea id="img-enc-msg" placeholder="Type your secret message hereâ€¦"></textarea>
          <div style="font-size:11px;color:var(--muted);margin-top:4px;text-align:right">
            <span id="char-count">0</span> characters
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">PASSWORD (AES-256 â€” optional)</label>
          <input type="password" id="img-enc-pw" placeholder="Leave blank for no encryption"/>
        </div>
        <button class="btn btn-primary btn-full" id="img-enc-btn" onclick="imageEncode()">
          <span class="spinner"></span>
          <span class="btn-label">ğŸ”’ &nbsp;Encode &amp; Download</span>
        </button>
        <div class="result" id="img-enc-result"></div>
      </div>

      <!-- Decode -->
      <div class="card">
        <div class="card-title">
          <div class="card-title-icon">ğŸ”“</div>
          Decode â€” Extract Hidden Message
        </div>
        <div class="form-group">
          <label class="form-label">STEGO IMAGE</label>
          <div class="drop-zone" id="img-dec-drop">
            <input type="file" id="img-dec-file" accept="image/*" onchange="setDrop('img-dec-drop','img-dec-file')"/>
            <div class="drop-icon">ğŸ”</div>
            <div class="drop-label">Drag & drop or <strong>click to browse</strong></div>
            <div class="drop-filename" id="img-dec-fn"></div>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">PASSWORD (if message was encrypted)</label>
          <input type="password" id="img-dec-pw" placeholder="Leave blank if no password was used"/>
        </div>
        <button class="btn btn-success btn-full" id="img-dec-btn" onclick="imageDecode()">
          <span class="spinner"></span>
          <span class="btn-label">ğŸ”“ &nbsp;Decode Message</span>
        </button>
        <div class="result" id="img-dec-result"></div>
      </div>
    </div>
  </div>

  <!-- â•â• TEXT PANEL â•â• -->
  <div class="panel" id="panel-text">
    <div class="feature-strip">
      <div class="feature-chip"><span class="icon">ğŸ‘</span> Invisible zero-width characters</div>
      <div class="feature-chip"><span class="icon">ğŸ“‹</span> Output looks identical to original</div>
    </div>
    <div class="card-row">
      <div class="card">
        <div class="card-title"><div class="card-title-icon">ğŸ”’</div>Encode â€” Hide in Text File</div>
        <div class="form-group">
          <label class="form-label">COVER TEXT FILE (.TXT)</label>
          <div class="drop-zone" id="txt-enc-drop">
            <input type="file" id="txt-enc-file" accept=".txt" onchange="setDrop('txt-enc-drop','txt-enc-file')"/>
            <div class="drop-icon">ğŸ“„</div>
            <div class="drop-label">Drag & drop or <strong>click to browse</strong></div>
            <div class="drop-filename" id="txt-enc-fn"></div>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">SECRET MESSAGE</label>
          <textarea id="txt-enc-msg" placeholder="Type your secret messageâ€¦"></textarea>
        </div>
        <button class="btn btn-primary btn-full" id="txt-enc-btn" onclick="textEncode()">
          <span class="spinner"></span><span class="btn-label">ğŸ”’ &nbsp;Encode &amp; Download</span>
        </button>
        <div class="result" id="txt-enc-result"></div>
      </div>
      <div class="card">
        <div class="card-title"><div class="card-title-icon">ğŸ”“</div>Decode â€” Extract from Text File</div>
        <div class="form-group">
          <label class="form-label">STEGO TEXT FILE (.TXT)</label>
          <div class="drop-zone" id="txt-dec-drop">
            <input type="file" id="txt-dec-file" accept=".txt" onchange="setDrop('txt-dec-drop','txt-dec-file')"/>
            <div class="drop-icon">ğŸ”</div>
            <div class="drop-label">Drag & drop or <strong>click to browse</strong></div>
            <div class="drop-filename" id="txt-dec-fn"></div>
          </div>
        </div>
        <button class="btn btn-success btn-full" id="txt-dec-btn" onclick="textDecode()">
          <span class="spinner"></span><span class="btn-label">ğŸ”“ &nbsp;Decode Message</span>
        </button>
        <div class="result" id="txt-dec-result"></div>
      </div>
    </div>
  </div>

  <!-- â•â• AUDIO PANEL â•â• -->
  <div class="panel" id="panel-audio">
    <div class="feature-strip">
      <div class="feature-chip"><span class="icon">ğŸ”Š</span> Modified LSB on WAV frames</div>
      <div class="feature-chip"><span class="icon">ğŸ§</span> Audio quality preserved</div>
    </div>
    <div class="card-row">
      <div class="card">
        <div class="card-title"><div class="card-title-icon">ğŸ”’</div>Encode â€” Hide in Audio</div>
        <div class="form-group">
          <label class="form-label">COVER WAV FILE</label>
          <div class="drop-zone" id="aud-enc-drop">
            <input type="file" id="aud-enc-file" accept=".wav" onchange="setDrop('aud-enc-drop','aud-enc-file')"/>
            <div class="drop-icon">ğŸµ</div>
            <div class="drop-label">Drag & drop or <strong>click to browse</strong></div>
            <div class="drop-filename" id="aud-enc-fn"></div>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">SECRET MESSAGE</label>
          <textarea id="aud-enc-msg" placeholder="Type your secret messageâ€¦"></textarea>
        </div>
        <button class="btn btn-primary btn-full" id="aud-enc-btn" onclick="audioEncode()">
          <span class="spinner"></span><span class="btn-label">ğŸ”’ &nbsp;Encode &amp; Download</span>
        </button>
        <div class="result" id="aud-enc-result"></div>
      </div>
      <div class="card">
        <div class="card-title"><div class="card-title-icon">ğŸ”“</div>Decode â€” Extract from Audio</div>
        <div class="form-group">
          <label class="form-label">STEGO WAV FILE</label>
          <div class="drop-zone" id="aud-dec-drop">
            <input type="file" id="aud-dec-file" accept=".wav" onchange="setDrop('aud-dec-drop','aud-dec-file')"/>
            <div class="drop-icon">ğŸ”</div>
            <div class="drop-label">Drag & drop or <strong>click to browse</strong></div>
            <div class="drop-filename" id="aud-dec-fn"></div>
          </div>
        </div>
        <button class="btn btn-success btn-full" id="aud-dec-btn" onclick="audioDecode()">
          <span class="spinner"></span><span class="btn-label">ğŸ”“ &nbsp;Decode Message</span>
        </button>
        <div class="result" id="aud-dec-result"></div>
      </div>
    </div>
  </div>

  <!-- â•â• STEGANALYSIS PANEL â•â• -->
  <div class="panel" id="panel-steg">
    <div class="feature-strip">
      <div class="feature-chip"><span class="icon">ğŸ“</span> Chi-square statistical attack</div>
      <div class="feature-chip"><span class="icon">ğŸ—ƒ</span> Analyse multiple images at once</div>
      <div class="feature-chip"><span class="icon">ğŸ“Š</span> Probability score per image</div>
    </div>
    <div class="card">
      <div class="card-title"><div class="card-title-icon">ğŸ”</div>Chi-Square Steganalysis</div>
      <p style="font-size:13px;color:var(--muted);margin-bottom:20px;line-height:1.7">
        Select one or more images. The chi-square test analyses the LSB (Least Significant Bit) distribution
        to estimate whether hidden data has been embedded. Clean images show irregular pair frequencies;
        stego images approach a uniform distribution.
      </p>
      <div class="form-group">
        <label class="form-label">SELECT IMAGES TO ANALYSE</label>
        <div class="drop-zone" id="steg-drop">
          <input type="file" id="steg-files" accept="image/*" multiple onchange="setMultiDrop('steg-drop','steg-files','steg-list')"/>
          <div class="drop-icon">ğŸ”</div>
          <div class="drop-label">Drag & drop or <strong>click to select</strong> multiple images</div>
        </div>
        <div class="multi-file-list" id="steg-list"></div>
      </div>
      <button class="btn btn-primary" id="steg-btn" onclick="runSteganalysis()">
        <span class="spinner"></span><span class="btn-label">ğŸ” &nbsp;Analyse Images</span>
      </button>
      <div id="steg-result" style="margin-top:20px;display:none">
        <table class="steg-table">
          <thead><tr><th>File</th><th>Chi-Stat</th><th>Stego Prob.</th><th>Verdict</th></tr></thead>
          <tbody id="steg-tbody"></tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- â•â• BATCH PANEL â•â• -->
  <div class="panel" id="panel-batch">
    <div class="feature-strip">
      <div class="feature-chip"><span class="icon">ğŸ”€</span> Message split across N images</div>
      <div class="feature-chip"><span class="icon">ğŸ”</span> Optional AES-256 per chunk</div>
      <div class="feature-chip"><span class="icon">ğŸ—‚</span> Decode in any order</div>
    </div>
    <div class="card-row">
      <div class="card">
        <div class="card-title"><div class="card-title-icon">ğŸ“¦</div>Batch Encode â€” Spread Message</div>
        <p style="font-size:12px;color:var(--muted);margin-bottom:16px;">
          Your message will be evenly split and each chunk hidden in one cover image. All images are needed to reconstruct the full message.
        </p>
        <div class="form-group">
          <label class="form-label">COVER IMAGES (select multiple)</label>
          <div class="drop-zone" id="batch-enc-drop">
            <input type="file" id="batch-enc-files" accept="image/*" multiple onchange="setMultiDrop('batch-enc-drop','batch-enc-files','batch-enc-list')"/>
            <div class="drop-icon">ğŸ–¼</div>
            <div class="drop-label">Drag & drop or <strong>click to select</strong> multiple images</div>
          </div>
          <div class="multi-file-list" id="batch-enc-list"></div>
        </div>
        <div class="form-group">
          <label class="form-label">SECRET MESSAGE</label>
          <textarea id="batch-enc-msg" rows="4" placeholder="Enter the full message to distributeâ€¦"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">PASSWORD (AES-256 â€” optional)</label>
          <input type="password" id="batch-enc-pw" placeholder="Optional encryption key"/>
        </div>
        <button class="btn btn-primary btn-full" id="batch-enc-btn" onclick="batchEncode()">
          <span class="spinner"></span><span class="btn-label">ğŸ“¦ &nbsp;Batch Encode &amp; Download</span>
        </button>
        <div class="result" id="batch-enc-result"></div>
      </div>
      <div class="card">
        <div class="card-title"><div class="card-title-icon">ğŸ”“</div>Batch Decode â€” Reconstruct</div>
        <p style="font-size:12px;color:var(--muted);margin-bottom:16px;">
          Upload all stego images produced by Batch Encode â€” in any order. The full message will be automatically reassembled.
        </p>
        <div class="form-group">
          <label class="form-label">STEGO IMAGES</label>
          <div class="drop-zone" id="batch-dec-drop">
            <input type="file" id="batch-dec-files" accept="image/*" multiple onchange="setMultiDrop('batch-dec-drop','batch-dec-files','batch-dec-list')"/>
            <div class="drop-icon">ğŸ”</div>
            <div class="drop-label">Drag & drop or <strong>click to select</strong> stego images</div>
          </div>
          <div class="multi-file-list" id="batch-dec-list"></div>
        </div>
        <div class="form-group">
          <label class="form-label">PASSWORD (if used during encode)</label>
          <input type="password" id="batch-dec-pw" placeholder="Leave blank if no password was used"/>
        </div>
        <button class="btn btn-success btn-full" id="batch-dec-btn" onclick="batchDecode()">
          <span class="spinner"></span><span class="btn-label">ğŸ”“ &nbsp;Reconstruct Message</span>
        </button>
        <div class="result" id="batch-dec-result"></div>
      </div>
    </div>
  </div>

  <!-- â•â• COMPARE PANEL â•â• -->
  <div class="panel" id="panel-compare">
    <div class="feature-strip">
      <div class="feature-chip"><span class="icon">âš–</span> Visual side-by-side comparison</div>
      <div class="feature-chip"><span class="icon">ğŸ”</span> Instantly see stego differences</div>
    </div>
    <div class="card">
      <div class="card-title"><div class="card-title-icon">âš–</div>Image Comparison â€” Original vs Stego</div>
      <p style="font-size:13px;color:var(--muted);margin-bottom:20px;">
        Upload an original cover image and a stego image side-by-side.
        Visually they will look identical â€” that's the power of steganography!
      </p>
      <div class="card-row">
        <div>
          <label class="form-label">ORIGINAL IMAGE</label>
          <div class="drop-zone" id="cmp-orig-drop">
            <input type="file" id="cmp-orig" accept="image/*" onchange="setDropPreview('cmp-orig','cmp-orig-drop','cmp-orig-fn','orig-preview')"/>
            <div class="drop-icon">ğŸ–¼</div>
            <div class="drop-label">Drop original image</div>
            <div class="drop-filename" id="cmp-orig-fn"></div>
          </div>
          <div style="margin-top:12px;text-align:center">
            <img id="orig-preview" style="display:none;max-width:100%;max-height:250px;border-radius:8px;border:1px solid var(--border)"/>
            <div style="font-size:11px;color:var(--muted);margin-top:4px" id="orig-label"></div>
          </div>
        </div>
        <div>
          <label class="form-label">STEGO IMAGE</label>
          <div class="drop-zone" id="cmp-stego-drop">
            <input type="file" id="cmp-stego" accept="image/*" onchange="setDropPreview('cmp-stego','cmp-stego-drop','cmp-stego-fn','stego-preview')"/>
            <div class="drop-icon">ğŸ”’</div>
            <div class="drop-label">Drop stego image</div>
            <div class="drop-filename" id="cmp-stego-fn"></div>
          </div>
          <div style="margin-top:12px;text-align:center">
            <img id="stego-preview" style="display:none;max-width:100%;max-height:250px;border-radius:8px;border:1px solid var(--border)"/>
            <div style="font-size:11px;color:var(--muted);margin-top:4px" id="stego-label"></div>
          </div>
        </div>
      </div>
      <div style="margin-top:20px;text-align:center;color:var(--muted);font-size:13px" id="cmp-note">
        Upload both images to compare them visually.
      </div>
    </div>
  </div>

</div><!-- /panels -->

<footer>
  ğŸ›¡ Steganography Tools &nbsp;Â·&nbsp; Image LSB Â· Zero-Width Chars Â· Audio LSB Â· AES-256 Â· Chi-Square Analysis
</footer>

</div><!-- /wrapper -->

<!-- Toast -->
<div id="toast"></div>

<script>
// â”€â”€ Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function showTab(name) {
  document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  document.getElementById('panel-' + name).classList.add('active');
  document.getElementById('tab-' + name).classList.add('active');
}

function setDrop(dropId, inputId) {
  const inp = document.getElementById(inputId);
  const fn  = document.getElementById(dropId.replace('drop', 'fn')) ||
              document.querySelector('#' + dropId + ' .drop-filename');
  if (inp.files[0]) {
    // Find the .drop-filename inside the drop-zone
    const dz = document.getElementById(dropId);
    const fnEl = dz.querySelector('.drop-filename');
    if (fnEl) { fnEl.style.display = 'block'; fnEl.textContent = 'ğŸ“ ' + inp.files[0].name; }
    document.getElementById(dropId).classList.add('drag-over');
  }
}

function setMultiDrop(dropId, inputId, listId) {
  const inp  = document.getElementById(inputId);
  const list = document.getElementById(listId);
  const dz   = document.getElementById(dropId);
  if (inp.files.length) {
    list.style.display = 'block';
    list.innerHTML = Array.from(inp.files).map(f =>
      `<span>ğŸ“ ${f.name}</span>`
    ).join('');
    dz.classList.add('drag-over');
  }
}

function setDropPreview(inputId, dropId, fnId, previewId) {
  const inp = document.getElementById(inputId);
  const dz  = document.getElementById(dropId);
  const fn  = document.getElementById(fnId);
  const pr  = document.getElementById(previewId);
  if (inp.files[0]) {
    fn.style.display = 'block';
    fn.textContent = 'ğŸ“ ' + inp.files[0].name;
    dz.classList.add('drag-over');
    const reader = new FileReader();
    reader.onload = e => { pr.src = e.target.result; pr.style.display = 'inline-block'; };
    reader.readAsDataURL(inp.files[0]);
    document.getElementById('cmp-note').style.display = 'none';
  }
}

function setBtnLoading(id, on) {
  const btn = document.getElementById(id);
  if (on) { btn.classList.add('loading'); btn.disabled = true; }
  else    { btn.classList.remove('loading'); btn.disabled = false; }
}

function showResult(id, ok, html) {
  const el = document.getElementById(id);
  el.className = 'result ' + (ok ? 'ok' : 'err');
  el.innerHTML = html;
  el.style.display = 'block';
  el.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

function toast(msg, ok=true) {
  const t = document.getElementById('toast');
  t.textContent = (ok ? 'âœ” ' : 'âœ˜ ') + msg;
  t.className = 'show ' + (ok ? 'ok-toast' : 'err-toast');
  setTimeout(() => t.className = '', 3500);
}

function downloadLink(fileId, label) {
  return `<div class="download-item">
    <span class="download-name">ğŸ“ ${label}</span>
    <button class="download-btn" onclick="window.location='/api/download/${fileId}'">â¬‡ Download</button>
  </div>`;
}

// â”€â”€ Capacity checker â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

async function checkCapacity() {
  const inp = document.getElementById('img-enc-file');
  if (!inp.files[0]) return;
  const fd = new FormData(); fd.append('image', inp.files[0]);
  try {
    const r = await fetch('/api/image/capacity', { method:'POST', body:fd });
    const d = await r.json();
    if (d.capacity_bytes) {
      document.getElementById('cap-bar-wrap').style.display = 'block';
      document.getElementById('cap-label').textContent = d.capacity_bytes + ' bytes max';
    }
  } catch {}
}

// Update char counter
document.addEventListener('DOMContentLoaded', () => {
  const msg = document.getElementById('img-enc-msg');
  msg.addEventListener('input', () => {
    document.getElementById('char-count').textContent = msg.value.length;
  });

  // Drag-over styling for all drop zones
  document.querySelectorAll('.drop-zone').forEach(dz => {
    dz.addEventListener('dragover', e => { e.preventDefault(); dz.classList.add('drag-over'); });
    dz.addEventListener('dragleave', () => dz.classList.remove('drag-over'));
    dz.addEventListener('drop', e => { e.preventDefault(); });
  });
});

// â”€â”€ Image â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

async function imageEncode() {
  const file = document.getElementById('img-enc-file').files[0];
  const msg  = document.getElementById('img-enc-msg').value.trim();
  const pw   = document.getElementById('img-enc-pw').value;
  if (!file) { toast('Please select a cover image', false); return; }
  if (!msg)  { toast('Message cannot be empty', false); return; }

  setBtnLoading('img-enc-btn', true);
  const fd = new FormData();
  fd.append('image', file); fd.append('message', msg); fd.append('password', pw);

  try {
    const r = await fetch('/api/image/encode', { method:'POST', body:fd });
    const d = await r.json();
    if (d.success) {
      showResult('img-enc-result', true,
        `<div class="result-title">âœ” Encoded successfully</div>` +
        `<div class="download-list">${downloadLink(d.file_id, d.filename)}</div>`);
      toast('Image encoded!');
    } else {
      showResult('img-enc-result', false, `<div class="result-title">âœ˜ Error</div>${d.error}`);
      toast(d.error, false);
    }
  } catch (e) { showResult('img-enc-result', false, 'âœ˜ Network error'); }
  setBtnLoading('img-enc-btn', false);
}

async function imageDecode() {
  const file = document.getElementById('img-dec-file').files[0];
  const pw   = document.getElementById('img-dec-pw').value;
  if (!file) { toast('Please select a stego image', false); return; }

  setBtnLoading('img-dec-btn', true);
  const fd = new FormData();
  fd.append('image', file); fd.append('password', pw);

  try {
    const r = await fetch('/api/image/decode', { method:'POST', body:fd });
    const d = await r.json();
    if (d.success) {
      showResult('img-dec-result', true,
        `<div class="result-title">âœ” Hidden message found</div>
         <div class="msg-text">${escHtml(d.message)}</div>`);
      toast('Message decoded!');
    } else {
      showResult('img-dec-result', false, `<div class="result-title">âœ˜ Error</div>${d.error}`);
      toast(d.error, false);
    }
  } catch { showResult('img-dec-result', false, 'âœ˜ Network error'); }
  setBtnLoading('img-dec-btn', false);
}

// â”€â”€ Text â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

async function textEncode() {
  const file = document.getElementById('txt-enc-file').files[0];
  const msg  = document.getElementById('txt-enc-msg').value.trim();
  if (!file || !msg) { toast('Cover file and message required', false); return; }

  setBtnLoading('txt-enc-btn', true);
  const fd = new FormData();
  fd.append('cover', file); fd.append('message', msg);

  try {
    const r = await fetch('/api/text/encode', { method:'POST', body:fd });
    const d = await r.json();
    if (d.success) {
      showResult('txt-enc-result', true,
        `<div class="result-title">âœ” Encoded</div>
         <div class="download-list">${downloadLink(d.file_id, d.filename)}</div>`);
      toast('Text file encoded!');
    } else {
      showResult('txt-enc-result', false, `<div class="result-title">âœ˜ Error</div>${d.error}`);
    }
  } catch { showResult('txt-enc-result', false, 'âœ˜ Network error'); }
  setBtnLoading('txt-enc-btn', false);
}

async function textDecode() {
  const file = document.getElementById('txt-dec-file').files[0];
  if (!file) { toast('Select a stego text file', false); return; }

  setBtnLoading('txt-dec-btn', true);
  const fd = new FormData(); fd.append('stego', file);

  try {
    const r = await fetch('/api/text/decode', { method:'POST', body:fd });
    const d = await r.json();
    if (d.success) {
      showResult('txt-dec-result', true,
        `<div class="result-title">âœ” Hidden message found</div>
         <div class="msg-text">${escHtml(d.message)}</div>`);
    } else {
      showResult('txt-dec-result', false, `<div class="result-title">âœ˜ Error</div>${d.error}`);
    }
  } catch { showResult('txt-dec-result', false, 'âœ˜ Network error'); }
  setBtnLoading('txt-dec-btn', false);
}

// â”€â”€ Audio â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

async function audioEncode() {
  const file = document.getElementById('aud-enc-file').files[0];
  const msg  = document.getElementById('aud-enc-msg').value.trim();
  if (!file || !msg) { toast('WAV file and message required', false); return; }

  setBtnLoading('aud-enc-btn', true);
  const fd = new FormData();
  fd.append('audio', file); fd.append('message', msg);

  try {
    const r = await fetch('/api/audio/encode', { method:'POST', body:fd });
    const d = await r.json();
    if (d.success) {
      showResult('aud-enc-result', true,
        `<div class="result-title">âœ” Encoded</div>
         <div class="download-list">${downloadLink(d.file_id, d.filename)}</div>`);
      toast('Audio encoded!');
    } else {
      showResult('aud-enc-result', false, `<div class="result-title">âœ˜ Error</div>${d.error}`);
    }
  } catch { showResult('aud-enc-result', false, 'âœ˜ Network error'); }
  setBtnLoading('aud-enc-btn', false);
}

async function audioDecode() {
  const file = document.getElementById('aud-dec-file').files[0];
  if (!file) { toast('Select a stego WAV file', false); return; }

  setBtnLoading('aud-dec-btn', true);
  const fd = new FormData(); fd.append('audio', file);

  try {
    const r = await fetch('/api/audio/decode', { method:'POST', body:fd });
    const d = await r.json();
    if (d.success) {
      showResult('aud-dec-result', true,
        `<div class="result-title">âœ” Hidden message found</div>
         <div class="msg-text">${escHtml(d.message)}</div>`);
    } else {
      showResult('aud-dec-result', false, `<div class="result-title">âœ˜ Error</div>${d.error}`);
    }
  } catch { showResult('aud-dec-result', false, 'âœ˜ Network error'); }
  setBtnLoading('aud-dec-btn', false);
}

// â”€â”€ Steganalysis â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

async function runSteganalysis() {
  const files = document.getElementById('steg-files').files;
  if (!files.length) { toast('Select at least one image', false); return; }

  setBtnLoading('steg-btn', true);
  const fd = new FormData();
  Array.from(files).forEach(f => fd.append('images', f));

  try {
    const r = await fetch('/api/steganalysis', { method:'POST', body:fd });
    const d = await r.json();
    if (d.success) {
      const tbody = document.getElementById('steg-tbody');
      tbody.innerHTML = d.results.map(row => {
        const prob = row.probability != null ? (row.probability * 100).toFixed(1) + '%' : 'N/A';
        const p = row.probability || 0;
        const pillCls = p > 0.75 ? 'pill-danger' : p > 0.45 ? 'pill-warn' : 'pill-ok';
        const chi = row.chi_stat != null ? row.chi_stat.toFixed(1) : 'N/A';
        return `<tr>
          <td style="font-family:'JetBrains Mono',monospace;font-size:12px">${escHtml(row.filename||row.path)}</td>
          <td>${chi}</td>
          <td><span class="pill ${pillCls}">${prob}</span></td>
          <td style="font-size:12px">${escHtml(row.verdict)}</td>
        </tr>`;
      }).join('');
      document.getElementById('steg-result').style.display = 'block';
      toast(`Analysed ${d.results.length} image(s)`);
    } else {
      toast(d.error, false);
    }
  } catch { toast('Network error', false); }
  setBtnLoading('steg-btn', false);
}

// â”€â”€ Batch â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

async function batchEncode() {
  const files = document.getElementById('batch-enc-files').files;
  const msg   = document.getElementById('batch-enc-msg').value.trim();
  const pw    = document.getElementById('batch-enc-pw').value;
  if (!files.length || !msg) { toast('Images and message required', false); return; }

  setBtnLoading('batch-enc-btn', true);
  const fd = new FormData();
  Array.from(files).forEach(f => fd.append('images', f));
  fd.append('message', msg); fd.append('password', pw);

  try {
    const r = await fetch('/api/batch/encode', { method:'POST', body:fd });
    const d = await r.json();
    if (d.success) {
      const links = d.file_ids.map((id, i) => downloadLink(id, `batch_stego_${String(i).padStart(3,'0')}.png`)).join('');
      showResult('batch-enc-result', true,
        `<div class="result-title">âœ” ${d.count} stego image(s) created</div>
         <div class="download-list">${links}</div>`);
      toast(`Batch encoded ${d.count} images!`);
    } else {
      showResult('batch-enc-result', false, `<div class="result-title">âœ˜ Error</div>${d.error}`);
    }
  } catch { showResult('batch-enc-result', false, 'âœ˜ Network error'); }
  setBtnLoading('batch-enc-btn', false);
}

async function batchDecode() {
  const files = document.getElementById('batch-dec-files').files;
  const pw    = document.getElementById('batch-dec-pw').value;
  if (!files.length) { toast('Select stego images', false); return; }

  setBtnLoading('batch-dec-btn', true);
  const fd = new FormData();
  Array.from(files).forEach(f => fd.append('images', f));
  fd.append('password', pw);

  try {
    const r = await fetch('/api/batch/decode', { method:'POST', body:fd });
    const d = await r.json();
    if (d.success) {
      showResult('batch-dec-result', true,
        `<div class="result-title">âœ” Message reconstructed</div>
         <div class="msg-text">${escHtml(d.message)}</div>`);
      toast('Message reconstructed!');
    } else {
      showResult('batch-dec-result', false, `<div class="result-title">âœ˜ Error</div>${d.error}`);
    }
  } catch { showResult('batch-dec-result', false, 'âœ˜ Network error'); }
  setBtnLoading('batch-dec-btn', false);
}

// â”€â”€ Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function escHtml(s) {
  return String(s)
    .replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')
    .replace(/"/g,'&quot;').replace(/'/g,'&#039;');
}
</script>
</body>
</html>
